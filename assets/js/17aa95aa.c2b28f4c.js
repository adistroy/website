"use strict";(self.webpackChunkkubedl_website=self.webpackChunkkubedl_website||[]).push([[7570],{3905:function(e,n,t){t.d(n,{Zo:function(){return s},kt:function(){return g}});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=r.createContext({}),u=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},s=function(e){var n=u(e.components);return r.createElement(l.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),d=u(t),g=a,h=d["".concat(l,".").concat(g)]||d[g]||p[g]||i;return t?r.createElement(h,o(o({ref:n},s),{},{components:t})):r.createElement(h,o({ref:n},s))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=d;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,o[1]=c;for(var u=2;u<i;u++)o[u]=t[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},2423:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return c},contentTitle:function(){return l},metadata:function(){return u},toc:function(){return s},default:function(){return d}});var r=t(7462),a=t(3366),i=(t(7294),t(3905)),o=["components"],c={sidebar_position:6},l="Gang Scheduling",u={unversionedId:"training/gangscheduling",id:"training/gangscheduling",title:"Gang Scheduling",description:"Gang Scheduling is a critical feature for Deep Learning workloads to enable all-or-nothing scheduling capability, as",source:"@site/docs/training/gangscheduling.md",sourceDirName:"training",slug:"/training/gangscheduling",permalink:"/docs/training/gangscheduling",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/training/gangscheduling.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Cron Scheduling",permalink:"/docs/training/cron"},next:{title:"Artifacts Sync",permalink:"/docs/training/code-sync"}},s=[{value:"How to Enable",id:"how-to-enable",children:[],level:3},{value:"Reference",id:"reference",children:[],level:3}],p={toc:s};function d(e){var n=e.components,c=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},p,c,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"gang-scheduling"},"Gang Scheduling"),(0,i.kt)("p",null,"Gang Scheduling is a critical feature for Deep Learning workloads to enable all-or-nothing scheduling capability, as\nmost DL frameworks requires all workers to be running to start training process. Gang Scheduling avoids resource\ninefficiency and scheduling deadlock sometimes."),(0,i.kt)("p",null,"KubeDL supports gang scheduling with different schedulers as a backend. Today, several Kubernetes schedulers support\ngang scheduling, including the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/kubernetes-sigs/scheduler-plugins/blob/master/pkg/coscheduling/README.md"},"Coscheduling Scheduling Plugin"),",\n",(0,i.kt)("a",{parentName:"p",href:"https://yunikorn.apache.org/"},"YuniKorn"),", Volcano, KubeBatch. Each has its own advantages and its own API protocols."),(0,i.kt)("p",null,"KubeDL provides a plugin framework to support different schedulers as a backend. Currently, KubeDL supports kube-coscheduler(popular on alibaba cloud), volcano(a batch system under CNCF) and kube-batch."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"gangscheduling",src:t(1676).Z,width:"874",height:"572"})),(0,i.kt)("h3",{id:"how-to-enable"},"How to Enable"),(0,i.kt)("p",null,"Enable gang scheduling using the KubeDL controller startup flag ",(0,i.kt)("inlineCode",{parentName:"p"},"--gang-scheduler-name"),".\nFor example: ",(0,i.kt)("inlineCode",{parentName:"p"},"--gang-scheduler-name=kube-coscheduler")),(0,i.kt)("p",null,"By default, it is empty meaning not enabled. Supported values are ",(0,i.kt)("inlineCode",{parentName:"p"},"kube-coscheduler"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"volcano")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"kube-batch"),"."),(0,i.kt)("h3",{id:"reference"},"Reference"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"How to setup kube-coscheduler plugins. ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/kubernetes-sigs/scheduler-plugins"},"Go ->")),(0,i.kt)("li",{parentName:"ul"},"How to setup kube-batch scheduler. ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/kubernetes-sigs/kube-batch"},"Go ->")),(0,i.kt)("li",{parentName:"ul"},"How to setup volcano scheduler. ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/volcano-sh/volcano"},"Go ->"),"\nAuthor: jian-he, 4 months ago")))}d.isMDXComponent=!0},1676:function(e,n,t){n.Z=t.p+"assets/images/kubedl-gangschedule-429a26d740c4a1ce9126c6576aec131a.png"}}]);
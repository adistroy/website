"use strict";(self.webpackChunkkubedl_website=self.webpackChunkkubedl_website||[]).push([[4107],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return m}});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var p=r.createContext({}),c=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},u=function(e){var n=c(e.components);return r.createElement(p.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},s=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,l=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),s=c(t),m=o,h=s["".concat(p,".").concat(m)]||s[m]||d[m]||l;return t?r.createElement(h,a(a({ref:n},u),{},{components:t})):r.createElement(h,a({ref:n},u))}));function m(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var l=t.length,a=new Array(l);a[0]=s;var i={};for(var p in n)hasOwnProperty.call(n,p)&&(i[p]=n[p]);i.originalType=e,i.mdxType="string"==typeof e?e:o,a[1]=i;for(var c=2;c<l;c++)a[c]=t[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}s.displayName="MDXCreateElement"},2010:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return i},contentTitle:function(){return p},metadata:function(){return c},toc:function(){return u},default:function(){return s}});var r=t(7462),o=t(3366),l=(t(7294),t(3905)),a=["components"],i={sidebar_position:7},p="Morphling UI",c={unversionedId:"morphling/ui",id:"morphling/ui",title:"Morphling UI",description:"Deploy Morphling UI",source:"@site/docs/morphling/ui.md",sourceDirName:"morphling",slug:"/morphling/ui",permalink:"/docs/morphling/ui",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/morphling/ui.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"How to debug",permalink:"/docs/morphling/debug-guide"},next:{title:"Developer Guide",permalink:"/docs/morphling/developer-guide"}},u=[{value:"Deploy Morphling UI",id:"deploy-morphling-ui",children:[],level:2},{value:"Developer Guide",id:"developer-guide",children:[{value:"Prerequisites",id:"prerequisites",children:[],level:3},{value:"Folder structure",id:"folder-structure",children:[],level:3},{value:"Development",id:"development",children:[{value:"Build Console Backend Server",id:"build-console-backend-server",children:[],level:4},{value:"Run local Console Backend Server",id:"run-local-console-backend-server",children:[],level:4}],level:3},{value:"Serve UI frontend",id:"serve-ui-frontend",children:[{value:"Optional: Start Console Frontend with Connection to other dev Backend-Server directly",id:"optional-start-console-frontend-with-connection-to-other-dev-backend-server-directly",children:[],level:4}],level:3}],level:2},{value:"Code style",id:"code-style",children:[],level:2}],d={toc:u};function s(e){var n=e.components,i=(0,o.Z)(e,a);return(0,l.kt)("wrapper",(0,r.Z)({},d,i,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"morphling-ui"},"Morphling UI"),(0,l.kt)("h2",{id:"deploy-morphling-ui"},"Deploy Morphling UI"),(0,l.kt)("p",null,"Morphling UI is built upon ",(0,l.kt)("a",{parentName:"p",href:"https://ant.design/"},"Ant Design"),".\nIf you are installing Morphling with Yaml files, from the root directory, run"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl apply -k manifests/ui\n")),(0,l.kt)("p",null,"Or, if you are installing Morphling with Helm chart, Morphling UI is automatically deployed."),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"morphlingui",src:t(3016).Z,width:"1670",height:"1216"})),(0,l.kt)("p",null,"Check if all Morphling UI is running successfully:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl -n morphling-system get svc morphling-ui\n")),(0,l.kt)("p",null,"Expected output:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"NAME           TYPE       CLUSTER-IP     EXTERNAL-IP   PORT(S)        AGE\nmorphling-ui   NodePort   10.96.63.162   <none>        9091:30680/TCP   44m\n")),(0,l.kt)("p",null,"If you are using minikube, you can get access to the UI with port-forward:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl -n morphling-system port-forward --address 0.0.0.0 svc/morphling-ui 30263:9091\n")),(0,l.kt)("p",null,"Then you can get access to the ui at http://localhost:30263/."),(0,l.kt)("p",null,"For detailed UI deployment and developing guide, please check ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/alibaba/morphling/blob/main/console/README.md"},"UI.md")),(0,l.kt)("h2",{id:"developer-guide"},"Developer Guide"),(0,l.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"NodeJS > 10"),(0,l.kt)("li",{parentName:"ul"},"Go > 1.14")),(0,l.kt)("h3",{id:"folder-structure"},"Folder structure"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"For React frontend, you can find it under ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/kubedl-io/morphling/tree/main/console/frontend"},"console/frontend"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"For Go backend you, can find it under ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/kubedl-io/morphling/tree/main/console/backend"},"console/backend"),"."))),(0,l.kt)("h3",{id:"development"},"Development"),(0,l.kt)("h4",{id:"build-console-backend-server"},"Build Console Backend Server"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"go build -mod=vendor -o backend-server morphling/console/backend\n")),(0,l.kt)("h4",{id:"run-local-console-backend-server"},"Run local Console Backend Server"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Prepare a ",(0,l.kt)("inlineCode",{parentName:"li"},"kubeconfig")," file which defines k8s development environment."),(0,l.kt)("li",{parentName:"ol"},"Set ",(0,l.kt)("inlineCode",{parentName:"li"},"KUBECONFIG")," environment variable.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"export KUBECONFIG={/path-to-kubeconfig-file}\n")),(0,l.kt)("h3",{id:"serve-ui-frontend"},"Serve UI frontend"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd console/frontend/\n")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Install dependencies (optional)")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"npm install\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Run ",(0,l.kt)("inlineCode",{parentName:"p"},"npm run build")," under ",(0,l.kt)("inlineCode",{parentName:"p"},"/frontend")," folder. It will create ",(0,l.kt)("inlineCode",{parentName:"p"},"/frontend/dist")," directory with optimized production build.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Go to ",(0,l.kt)("inlineCode",{parentName:"p"},"console/backend/"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Run backend server with disabled authentication mode"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"./backend-server\n")),(0,l.kt)("p",null,"After that, you can access the UI using this URL: ",(0,l.kt)("inlineCode",{parentName:"p"},"http://localhost:9091"),"."),(0,l.kt)("h4",{id:"optional-start-console-frontend-with-connection-to-other-dev-backend-server-directly"},"Optional: Start Console Frontend with Connection to other dev Backend-Server directly"),(0,l.kt)("p",null,"If you are not able to run local console backend server, or other dev console backend server is already present, you could make frontend dev server to proxy API requests to other dev backend server directly."),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Change Proxy Backend\nPath: console/frontend/config/config.js")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'  proxy: [\n    {\n      target: "http://localhost:9091",\n      ...\n    }\n  ]\n')),(0,l.kt)("p",null,"change the target to address <ip:port> of other present console backend server."),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"Run Console Frontend Dev Server")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"npm run start\n")),(0,l.kt)("h2",{id:"code-style"},"Code style"),(0,l.kt)("p",null,"Our UI is built upon ",(0,l.kt)("a",{parentName:"p",href:"https://ant.design/"},"Ant Design"),"."))}s.isMDXComponent=!0},3016:function(e,n,t){n.Z=t.p+"assets/images/ui-589095bbbf28758bc94940faa840dfe0.png"}}]);